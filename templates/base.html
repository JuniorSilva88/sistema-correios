<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Sistema de Correios</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
  <!-- Header limpo -->
  <header>
    <div class="header-left">
      <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
    </div>

    <div class="header-center">
      <span class="logo">ğŸ“¦ Sistema de Correios</span>
    </div>
  </header>

  <!-- Sidebar lateral -->
  <aside class="sidebar" id="sidebar">
    <nav>
      <ul>
        <li><a href="{{ url_for('index') }}">ğŸ  Itens Cadastrados</a></li>
        <li><a href="{{ url_for('new_item') }}">â• Cadastrar Novo Item</a></li>
        <li><a href="{{ url_for('report') }}">ğŸ“Š Gerar RelatÃ³rio</a></li>
        {% if current_user.role == "admin" %}
          <li><a href="{{ url_for('movimentacoes') }}">ğŸ“¦ MovimentaÃ§Ãµes</a></li>
          <li><a href="{{ url_for('create_user') }}">ğŸ‘¥ GestÃ£o de UsuÃ¡rios</a></li>
          <li><a href="{{ url_for('validate_users') }}">âœ… ValidaÃ§Ã£o de UsuÃ¡rios</a></li>
        {% endif %}
      </ul>
    </nav>

    <!-- âœ… Bloco de usuÃ¡rio no rodapÃ© da sidebar -->
    {% if current_user.is_authenticated %}
    <div class="sidebar-user">
      <div class="user-info">
        {% if current_user.role == "admin" %}
          ğŸ‘‘ {{ current_user.username }}
        {% else %}
          ğŸ‘¤ {{ current_user.username }}
        {% endif %}
      </div>
      <div class="user-actions">
        <a href="{{ url_for('profile') }}">Perfil</a>
        <a href="{{ url_for('change_password') }}">Alterar senha</a>
        <a href="{{ url_for('logout') }}">Sair</a>
      </div>
    </div>
    {% endif %}
  </aside>

  <!-- ConteÃºdo principal -->
  <main class="content-container" id="content">
    {% block content %}{% endblock %}
  </main>

  <!-- Script de toggle da sidebar -->
  <script>
    function toggleSidebar() { 
      const sidebar = document.getElementById('sidebar'); 
      const content = document.getElementById('content'); 

      sidebar.classList.toggle('closed'); 
      content.classList.toggle('expanded'); 
    }
  </script>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Sistema de Correios - Projeto desenvolvido por Junior Alexandre da Silva â€” GitHub: 
      <a href="https://github.com/JuniorSilva88" target="_blank">@JuniorSilva88</a>
    </p>
  </footer>

</body>
</html>
